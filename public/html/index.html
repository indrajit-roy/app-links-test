<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>YOU HAVE REACHED FLEXOFFICIAL</h1>
    <a href="https://www.flexofficial.in/redirect">Trigger app!!</a>
    <a href="android://attacker">Trigger attacker!!!</a>
    <a href="kite://handshake">Trigger kite with href!</a>
    <button id="k_btn" onclick="triggerKite()">Trigger kite with JS!</button>
    <h3 id="v_h3">I should change if the android version is not undefined</h3>
    <button id="v_btn" onclick="setAndroidVersion()">Get Android Version</button>
    <button id="c_btn" onclick="myclose()">Close</button>
    <button id="c_btn" onclick="pstMsg()">Post Message</button>
    <iframe src="https://www.flexofficial.in/smartinvesting"></iframe>
</body>
<script>
    function setAndroidVersion() {
        console.log("you tried to get android version");
        const version = getAndroidVersion();
        if(version !== undefined || version !== null)
        {
            document.getElementById("v_h3").innerHTML = `${version}`;
        }
    }
    
    function getAndroidVersion(ua) {
    ua = (ua || navigator.userAgent).toLowerCase(); 
    var match = ua.match(/android\s([0-9\.]*)/i);
    return match ? match[1] : undefined;
    }
    
    function triggerKite() {
        window.location.href = `kite://handshake`;
    }
    
    function myclose() {
        console.log("you have clicked close");
        window.close();
    }
    
    function pstMsg() {
        console.log("sending post message");
        window.parent.postMessage({message : "hello website 1"}, "*");
        window.postMessage({message : "hello website 1 window"}, "*")
    }
</script>
</html>
